<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>OrderList</title>

<style>
body {
	margin-top: 60px;
	padding: 20px 30px;
	transition: all 0.3s;
}
</style>
</head>
<body>

	<article class="container" layout:fragment="content">
		<div id="mat-od-title">
			<h2>주문 내역 관리</h2>
		</div>
		<hr>
		<ul class="ul-style">

			<li><label for="empNm"> 품목 </label><input id="empNm" readonly>
			</li>
			<li><label for="chkDate">주문일자</label><input type="date"
				id="chkDate"><span> - </span><input type="date" id="chkDate">
				<button class="btn btn-dark btn-sm">조회</button>
				<button class="btn btn-dark btn-sm">초기화</button></li>
		</ul>

		<div style="text-align: right;">
			<button class="btn btn-dark btn-sm" data-bs-toggle="modal"
				data-bs-target="#addModal">등록</button>
			<button class="btn btn-dark btn-sm" id="delete">삭제</button>
			<button class="btn btn-dark btn-sm">저장</button>
		</div>

		<div id="grid"></div>

		<!-- 추가 버튼 모달-->
		<div class="modal fade" id="addModal" tabindex="-1"
			aria-labelledby="addModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-xl">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addModalLabel">주문 목록</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div>
							<div id="modalGrid" style="width: 100%;"></div>
						</div>
						<div align="center">
							<button class="btn btn-dark btn-sm">추가</button>
							<button class="btn btn-dark btn-sm">취소</button>
						</div>
					</div>

				</div>
			</div>
		</div>
		<script>
const grid = new tui.Grid({
      el: document.getElementById('grid'),
      data: [
    {
    	orderNo: '00001',
    	orderDate: '2022-11-11',
    	prtName: '참이슬',
    	orderQty: 999,
    	dDay: '2022-11-15',
    	orderPrg: '진행중',
       
    },
    {
    	orderNo: '00002',
    	orderDate: '2022-12-11',
    	prtName: '참소주',
    	orderQty: 1004,
    	dDay: '2022-12-15',
    	orderPrg: '진행중',
    }
  ],
      rowHeaders: ['checkbox'],
      scrollX: false,
      scrollY: false,
      columns: [
          {
              header: '주문번호',
              name: 'orderNo'
            },
            {
              header: '주문일자',
              name: 'orderDay'
            },
            {
              header: '품목',
              name: 'prtName'
            },
            {
              header: '납기일자',
              name: 'dDay'
            },
            {
              header: '주문량',
              name: 'orderQty'
            },
            {
              header: '진행상태',
              name: 'orderPrg'
            }
           
          ]
    });

    grid.on('check', ev => {
      console.log('check!', ev);
    });

    grid.on('uncheck', ev => {
      console.log('uncheck!', ev);
    });

    grid.on('focusChange', ev => {
      console.log('change focused cell!', ev);
    });
    </script>

		<script>
	document.addEventListener('shown.bs.modal', function (){
		modalGrid = '';
		var modalGrid = new tui.Grid({
			el: document.getElementById('modalGrid'),
			data: [{
				orderNo: '00003',
		    	orderDate: '2022-12-20',
		    	prtName: '자몽이슬',
		    	orderQty: 500,
		    	dDay: '2022-12-13',
		    	orderPrg: '준비중',
			},
			{
				orderNo: '00004',
		    	orderDate: '2022-12-21',
		    	prtName: '참이슬',
		    	orderQty: 10000,
		    	dDay: '2022-11-25',
		    	orderPrg: '진행중'
			}],
			rowHeaders: ['checkbox'],
			scrollX: false,
			scrollY: false,
			columns: [
		        {
		            header: '주문번호',
		            name: 'orderNo'
		          },
		          {
		            header: '주문일자',
		            name: 'orderDay'
		          },
		          {
		            header: '품목',
		            name: 'prtName'
		          },
		          {
		            header: '납기일자',
		            name: 'dDay'
		          },
		          {
		            header: '주문량',
		            name: 'orderQty'
		          },
		          {
		            header: '주문단가',
		            name: 'unitPrice'
		          },
		          {
		            header: '금액',
		            name: 'orderPrice'
		          }
		        ]
		      });
	}, '.modal');
	</script>
	</article>
</body>
</html>