<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>OrderList</title>

<style>
body {
	margin-top: 60px;
	padding: 20px 30px;
	transition: all 0.3s;
}
</style>
</head>
<body>

	<article class="container" layout:fragment="content">
		<main id="main" class="main">
			<div id="mat-od-title">
				<h2>주문 내역 관리</h2>
			</div>
			<hr>
			<ul class="ul-style">
				<li><label for="prtName" id="selectPR">품목검색</label><input type="text">
				<li><label for="orderDate">주문일자</label><input type="date"
					id="orderDate"><span> - </span><input type="date"
					id="orderDate">
					<button class="button">조회</button>
				
			</ul>

			<div style="text-align: right;">
				<button class="button" data-bs-toggle="modal"
					data-bs-target="#addModal" id="inserBtn">등록</button>
				<button class="button" id="update">수정</button>
				<button class="button" id="delete">삭제</button>
				<button class="button">저장</button>
			</div>

			<div id="grid"></div>

			<!-- 추가 버튼 모달-->
			<div class="modal fade" id="addModal" tabindex="-1"
				aria-labelledby="addModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-xl">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="addModalLabel">주문 목록</h5>
							<button type="button" class="button" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>

						<div class="modal-body">
							<div>
								<div id="modalGrid" style="width: 100%;"></div>
							</div>
							<div align="right">
								<button class="button">추가</button>
								<button class="button">취소</button>
							</div>
						</div>

					</div>
				</div>
			</div>
			<!-- Modal 내용 -->
			<div class="modal fade" id="exampleModal" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">거래처 목록</h5>
							<button type="button" class="button" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<button type="button" class="button" data-bs-dismiss="modal">조회</button>
							<button type="button" class="button">초기화</button>
							<div id="modalGrid"></div>
						</div>
					</div>
				</div>
			</div>

			<script>

const grid = new tui.Grid({
      el: document.getElementById('grid'),
      data: [
    {
    	orderNo: '00001',
    	orderDate: '2022-11-11',
    	prtName: '참이슬',
    	orderQty: 999,
    	dDay: '2022-11-15',
    	orderPrg: '진행중',
       
    },
    {
    	orderNo: '00002',
    	orderDate: '2022-12-11',
    	prtName: '참소주',
    	orderQty: 1004,
    	dDay: '2022-12-15',
    	orderPrg: '준비중',
    }
  ],
      rowHeaders: ['checkbox'],
      scrollX: false,
      scrollY: false,
      columns: [
          {
              header: '주문번호',
              name: 'orderNo'
            },
            {
              header: '주문일자',
              name: 'orderDate'
            },
            {
              header: '품목',
              name: 'prtName'
            },
            {
              header: '납기일자',
              name: 'dDay'
            },
            {
              header: '주문량',
              name: 'orderQty'
            },
            {
              header: '진행상태',
              name: 'orderPrg'
            }
           
          ]
    });


    grid.on('check', ev => {
      console.log('check!', ev);
    });

    grid.on('uncheck', ev => {
      console.log('uncheck!', ev);
    });

    grid.on('focusChange', ev => {
      console.log('change focused cell!', ev);
    });
    </script>

			<script>
	document.addEventListener('shown.bs.modal', function (){
		modalGrid = '';
		var modalGrid = new tui.Grid({
			el: document.getElementById('modalGrid'),
			data: [{
				orderNo: '00003',
		    	orderDate: '2022-12-20',
		    	prtName: '자몽이슬',
		    	orderQty: 500,
		    	dDay: '2022-12-13',
		    	unitPrice: '1450',
		    	orderPrice : '725,000'
			},
			{
				orderNo: '00004',
		    	orderDate: '2022-12-21',
		    	prtName: '참이슬',
		    	orderQty: 10000,
		    	dDay: '2022-11-25',
		    	unitPrice: '1350',
		    	orderPrice : '13,500,000'
			}],
			rowHeaders: ['checkbox'],
			scrollX: false,
			scrollY: false,
			columns: [
		        {
		            header: '주문번호',
		            name: 'orderNo'
		          },
		          {
		            header: '주문일자',
		            name: 'orderDate'
		          },
		          {
		            header: '품목',
		            name: 'prtName'
		          },
		          {
		            header: '납기일자',
		            name: 'dDay'
		          },
		          {
		            header: '주문량',
		            name: 'orderQty'
		          },
		          {
		            header: '주문단가',
		            name: 'unitPrice'
		          },
		          {
		            header: '금액',
		            name: 'orderPrice'
		          }
		        ]
		      });
		
	},);
	</script>
		</main>
	</article>
</body>
</html>