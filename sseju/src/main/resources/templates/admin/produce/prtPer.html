<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>PrtPerList</title>
<!-- 제이쿼리 -->
<script
	src="https://ajax.googleapis.완료com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- 토스트UI -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
<!-- 아이콘 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
</head>
<body>
	<article layout:fragment="content">
		<main id="main" class="main">
			<h4>생산 실적</h4>
				<form action="select">
					<table style="margin-bottom:10px">
						<tr>
							<td><input type="date"></td>
							<td> ~ </td>
							<td><input type="date"></td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
	  								<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
								</svg>
							</td>
						</tr>
					</table>
				</form>
			<!-- Button trigger modal -->
			<!-- <button type="button" class="button" data-bs-toggle="modal"
				data-bs-target="#exampleModal">행클릭시 모달창으로 상세정보조회가능하게 연결</button> -->

			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">생산 현황 상세 정보</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">행 클릭 했을때
						이자리에 주문번호에 대한 생산 정보들 상세조회가 가능하게 띄워줘야함</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary">확인</button>
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">닫기</button>
						</div>
					</div>
				</div>
			</div>

			<!-- 그리드 -->
			<div id="prtperGrid"></div>


			<script type="text/javascript">
			showAll();
			
			var token = $("meta[name='_csrf']").attr("content");
			var header = $("meta[name='_csrf_header']").attr("content");
			
				var prtperGrid = new tui.Grid({
					el : document.getElementById('prtperGrid'),
					scrollX : false,
					scrollY : false,
					minBodyHeight : 30,
					pageOptions : {
						perPage : 5
					},
					columns : [ {
						header : '작업 지시 번호',
						name : 'preNo'
					}, {
						header : '제품명',
						name : 'prtName',
						filter : 'select',
					}, {
						header : '생산량',
						name : 'preQty'
					}, {
						header : '불량 발생 개수',
						name : 'prsErrQty'
					}, {
						header : '담당자',
						name : 'prePrg',
						filter : 'select'
					} ]
				});
				function showAll() {
				       fetch("getWorkOrderList") 
				       .then(res=>res.json())
				       .then(obj=>{
				           console.log(obj);
				           prtperGrid.resetData(obj);
				       })
			}
			</script>
		</main>
	</article>
</body>
</html>