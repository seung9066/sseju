<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>Production Progress</title>
<!-- 제이쿼리 -->
<script	src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- 토스트UI -->
<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
</head>
<body>
	<article layout:fragment="content">
		<main id="main" class="main">
			<h4>생산 진행 현황</h4>
			<!-- 그리드 -->
			<div class="row">
					<div id="prtProgGrid"></div>
			</div>
			<br>
			<div class="row">
			<h6>자재 상황</h6>
					<div id="matConditionGrid"></div>
			</div>
			<label><button class="button">자재 발주</button></label>
			<!-- Button trigger modal -->
			<button type="button" class="button" data-bs-toggle="modal"
				data-bs-target="#exampleModal">자재 발주 2</button>
			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">자재 발주 신청창</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">자재 발주
						
							<!-- <div id="matOrderGrid"></div> -->
							
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary">확인</button>
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">닫기</button>
						</div>
					</div>
				</div>
			</div>
			
			<script type="text/javascript">
			/* 생산 진행 현황 그리드 */
				var prtProgGrid= new tui.Grid({
					el : document.getElementById('prtProgGrid'),
					data : [ {
						preNo : '1',
						dDay : '포도맛소주',
						prtName : '3000',
						preQty : '30000',
						inQty : '2022-11-15',
						prePrg : '김준형'
					}, {
						preNo : '2',
						dDay : '자몽맛소주',
						prtName : '1000',
						preQty : '10000',
						inQty : '2022-11-16',
						prePrg : '김두영'
					}
					// data 가져오는 법
					// data: {
					//    api: {
					//       readData: {
					//          url: '/api/readData',
					//          method: 'GET'
					//       }
					//    }
					// },
					],
					scrollX : false,
					scrollY : false,
					columns : [ {
						header : '작업 지시 번호',
						name : 'preNo'
					}, {
						header : '제품명',
						name : 'dDay',
						filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					}, {
						header : '생산량',
						name : 'prtName'
					}, {
						header : '지시량',
						name : 'preQty'
					}, {
						header : '지시일자',
						name : 'inQty'
					}, {
						header : '담당자',
						name : 'prePrg',
						filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					} ]
				});
			
			/* 자재 상황 그리드
			생산 진행 중인 제품에 대한 자재 상황만 띄워줘야함 */
			var ProgGrid = new tui.Grid({
					el : document.getElementById('matConditionGrid'),
					data : [ {
						preNo : 'MAT-CA001',
						dDay : '클래식 맛 뚜껑',
						prtName : '3000',
						preQty : '27000',
						inQty : '양호',
					}, {
						preNo : 'MAT-BT001',
						dDay : '공병',
						prtName : '1000',
						preQty : '10000',
						inQty : '좋음',
					}
					// data 가져오는 법
					// data: {
					//    api: {
					//       readData: {
					//          url: '/api/readData',
					//          method: 'GET'
					//       }
					//    }
					// },
					],
					scrollX : false,
					scrollY : false,
					columns : [ {
						header : '자재 코드',
						name : 'preNo'
					}, {
						header : '자재명',
						name : 'dDay',
						filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					}, {
						header : '투입량(사용량)',
						name : 'prtName'
					}, {
						header : '재고량(남은량)',
						name : 'preQty'
					}, {
						header : '현 재고 상태',//충분, 주문필요, 과부족(일시 생산 진행 불가,)
						name : 'inQty'
					} ]
				});
			</script>
		</main>
	</article>
</body>
</html>