<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>


<script src="bootstrap/js/bootstrapbundle.min.js"></script>
<script src="bootstrap/js/tui-grid.js"></script>

<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
<script
	src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>

<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>


<style>
.tui-datepicker {
	z-index: 1001;
}

.tui-select-box {
	z-index: 1001;
}

/* ul 스타일 */
.ul-style {
	list-style: none;
	padding: 0px;
}

.ul-style li>label {
	width: 100px;
	text-align: center;
}

.ul-style li {
	padding: 5px;
}

.button {
	display: inline-block;
	cursor: pointer;
	border: none;
	border-radius: 4px;
	background-color: green;
	color: white;
}
</style>
</head>
<body>
	<article layout:fragment="content">
		<main class="main" id="main">
			<div>
				<h3>발주 정보</h3>
			</div>
			<hr>
			<div id="input-group">
				<ul class="ul-style">
					<li><label>품목</label><input type="text"  data-bs-toggle="modal"
						data-bs-target="#prtModal"> <i
						class="bi bi-search" data-bs-toggle="modal"
						data-bs-target="#prtModal"></i> <input type="text" style="background-color: #E9E9E9" readonly>
					</li>
					<li><label>거래처</label><input type="text"   data-bs-toggle="modal"
						data-bs-target="#empModal"> <i
						class="bi bi-search" data-bs-toggle="modal"
						data-bs-target="#empModal"></i> <input type="text" style="background-color: #E9E9E9" readonly>
					</li>
					<li><label>발주일자</label>
						<div class="tui-datepicker-input tui-datetime-input tui-has-focus">
							<input type="text" id="datepicker-input" aria-label="Date-Time">
							<span class="tui-ico-date"></span>
							<div id="wrapper" style="margin-top: -1px;"></div>
						</div>
							<button class="button" id="selectBtn">조회</button>
							<button class="button" id="insertBtn">추가</button>
							<button class="button" id="saveBtn">저장</button>
							<button class="button" id="deletetBtn">삭제</button>
						</li>
					<!-- 		<div>
			진행여부<div id="select-box" style="width: 200px"></div>
			옵션으로 검색?
		</div> -->
				</ul>
			</div>
			<hr>
			<div class="row">
				<div id="grid" class="col"></div>

			</div>
			<hr>
			<div class="row">
				<div id="grid2" class="col-6"></div>
				<div id="grid3" class="col-6"></div>

			</div>
			<!-- prtModal -->
			<div class="modal fade" id="prtModal" tabindex="-1"
				aria-labelledby="prtModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-xl">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">
						<div>
							<div id="prtGrid"></div>
						</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">Close</button>
							<button type="button" class="btn btn-primary">Save
								changes</button>
						</div>
					</div>
				</div>
			</div>
			
			<!-- empModal -->
			<div class="modal fade" id="empModal" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-xl">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">
						<div>
						<div id="empGrid"></div>
						</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">Close</button>
							<button type="button" class="btn btn-primary">Save
								changes</button>
						</div>
					</div>
				</div>
			</div>
			<script>		
			
				const grid = new tui.Grid({
					el : document.getElementById('grid'),
					data : [ {}],
					rowHeaders : [ 'checkbox' ],
					scrollX : false,
					scrollY : true,
					columns : [ {
						header : '발주 번호',
						name : 'matOrdName'
					}, {
						header : '수량',
						name : 'matOrdQty'
					}, {
						header : '품목 코드',
						name : 'matCode'
					}, {
						header : '품목명',
						name : 'matName'
					}, {
						header : '일자',
						name : 'matOrdDate'
					}, {
						header : '거래처 코드',
						name : 'cpCode'
					}, {
						header : '거래처명',
						name : 'cpName'
					}, {
						header : '금액',
						name : 'matPrice'
					}, {
						header : '담당자',
						name : 'matOrdEmp'
					}, {
						header: '진행 상황',
						name : 'matOrdYn'
					}]
				});
				const grid2 = new tui.Grid({
					el : document.getElementById('grid2'),
					data : [ {
						odDate : '2022-11-01',
						odCd : 'ORD-20221101-001',
						prdCd : 'MD-00100',
						prdNm : '얇은피 고기만두',
						odAmt : 200,
						actCd : 'VDR-1004',
						actNm : 'YD 마트',
						deDate : '2022-11-04',
						sts : '완료'
					} ],
					rowHeaders : [ 'checkbox' ],
					scrollX : false,
					scrollY : false,
					columns : [ {
						header : '주문 일자',
						name : 'odDate'
					}, {
						header : '주문 코드',
						name : 'odCd'
					}, {
						header : '제품 코드',
						name : 'prdCd'
					}, {
						header : '제품명',
						name : 'prdNm'
					}, {
						header : '주문량',
						name : 'odAmt'
					}, {
						header : '거래처 코드',
						name : 'actCd'
					}, {
						header : '거래처명',
						name : 'actNm'
					}, {
						header : '납기 일자',
						name : 'deDate'
					}, {
						header : '진행 상황',
						name : 'sts'
					}, ]
				});
				const grid3 = new tui.Grid({
					el : document.getElementById('grid3'),
					data : [ {
						odDate : '2022-11-01',
						odCd : 'ORD-20221101-001',
						prdCd : 'MD-00100',
						prdNm : '얇은피 고기만두',
						odAmt : 200,
						actCd : 'VDR-1004',
						actNm : 'YD 마트',
						deDate : '2022-11-04',
						sts : '완료'
					} ],
					rowHeaders : [ 'checkbox' ],
					scrollX : false,
					scrollY : false,
					columns : [ {
						header : '주문 일자',
						name : 'odDate'
					}, {
						header : '주문 코드',
						name : 'odCd'
					}, {
						header : '제품 코드',
						name : 'prdCd'
					}, {
						header : '제품명',
						name : 'prdNm'
					}, {
						header : '주문량',
						name : 'odAmt'
					}, {
						header : '거래처 코드',
						name : 'actCd'
					}, {
						header : '거래처명',
						name : 'actNm'
					}, {
						header : '납기 일자',
						name : 'deDate'
					}, {
						header : '진행 상황',
						name : 'sts'
					}, ]
				});
				
				//function
				/* document.addEventListener('shown.bs.modal', function (){
				prtGrid.refreshLayout();
				}, '.modal'); */
				
				//prtModal 제품 조회
					var prtGrid = new tui.Grid({
					el : document.getElementById('prtGrid'),
					bodyHeight: 200,
					data : [{
						prtCode : 'PCT-001',
						prtName : '제품',
						prtStandard: '',
						prtUnit:'',
						prtPrice: ''
					}],
					rowHeaders: ['checkbox'],
					scrollX: false,
					scrollY: true,
					columns:[
						{
							header:'제품코드',
							name:'prtCode'
						},
						{
							header:'제품명',
							name:'prtName'
						},
						{
							header:'규격',
							name:'prtStandard'
						},
						{
							header:'단위',
							name:'prtUnit'
						},
						{
							header:'금액',
							name:'prtPrice'
						}]
					});
					
					document.addEventListener('shown.bs.modal', function (){
					prtGrid.refreshLayout();
					}, '.modal');
					
				//empModal 거래처 조회
					const empGrid = new tui.Grid({
					el : document.getElementById('empGrid'),
					data : [{
						cpCode : 'CP',
						cpName : '거래처명',
						cpNo : '0000',
						cpCeo : '대표',
						cpTel : '010',
						cpAddr : '대구시'
					}],
					rowHeaders: ['checkbox'],
					scrollX: false,
				    scrollY: true,
				    columns:[
				    	{
				    		header: '거래처코드',
				    		name: 'cpCode'
				    	},
				    	{
				    		header: '거래처명',
				    		name: 'cpName'
				    	},
				    	{
				    		header: '사업자번호',
				    		name: 'cpNo'
				    	},
				    	{
				    		header: '대표자명',
				    		name: 'cpCeo'
				    	},
				    	{
				    		header: '연락처',
				    		name: 'cpTel'
				    	},
				    	{
				    		header: '주소',
				    		name: 'cpAddr'
				    	}]
					});
				
					document.addEventListener('shown.bs.modal', function (){
					empGrid.refreshLayout();
					}, '.modal');
			</script>
			<script>
				var datepicker = new tui.DatePicker('#wrapper', {
					date : new Date(),
					input : {
						element : '#datepicker-input',
						format : 'yyyy-MM-dd'
					}
				});
			</script>
		</main>
	</article>
</body>
</html>